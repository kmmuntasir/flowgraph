<?php
defined('BASEPATH') OR exit('No direct script access allowed');

class Teacher_api extends Admin_Controller {

	function __construct() {
	    parent::__construct();
	    // Loading Models
	    // $this->load->model($this->module."/m_admin");

	    $this->load->model($this->module."/m_teacher");
	    $this->data['page_title'] = '';
	    $this->data['controller'] .= $this->router->fetch_class();

	}
	
	public function add() {
		if ($_POST['teacher_pass_1'] != $_POST['teacher_pass_2'] ) exit("Password Does not match.");
		if ($_POST['teacher_pass_1']=="") exit("Password cannot empty.");

		$_POST['teacher_pass'] = $_POST['teacher_pass_1'];
		unset($_POST['teacher_pass_1']);
		unset($_POST['teacher_pass_2']);
		$_POST['teacher_add_date'] = $this->now();
		//add_Teacher($_POST);
		if ($this->m_teacher->add_Teacher($_POST)) echo "Success";
		else echo "failed";
		//$this->printer($_POST);
	}
	public function update() {

		if ($_POST['teacher_pass_1'] != $_POST['teacher_pass_2'] ) exit("Password Does not match.");
		if ($_POST['teacher_pass_1']=="") exit("Password cannot empty.");

		$_POST['teacher_pass'] = $_POST['teacher_pass_1'];
		unset($_POST['teacher_pass_1']);
		unset($_POST['teacher_pass_2']);

		if ($this->m_teacher->update_Teacher($_POST,$_POST['teacher_id'])) echo "Success";
		else echo "failed";

//		$this->printer($_POST);
		
	}
	public function delete() {
		if ($this->m_teacher->delete_Teacher($_POST['teacher_id'])) echo "Success";
		else echo "failed";
						
	}
	

}
